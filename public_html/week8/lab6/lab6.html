<!DOCTYPE html>
<html>
    <head>
        <title>Lab 6</title>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
       
       <style>
</style>
    </head>
    <body>
        <div></div>
        <script>
            var content = document.querySelector('body');
            var myRequest = 'ajax1.json';
            var data = {};
            fetch(myRequest).then(handleResponse)
                    .then(responseSuccess)
                    .catch(responseError);
            function handleResponse(response) {
                console.log(response);
                let contentType = response.headers.get("content-type");
                if (contentType && contentType.includes("json")) {
                    return response.json();
                }
                throw new TypeError("Json error");
            }
            
           
               let str += '<table>';
               
               for (let i in json) {
                  
        str += `<tr id="$(i)"><td>${json[i].username}</td><td>${json[i].email}</td><td>${json[1].Registered}</td><td>${json[i].Active}</td></tr>'
                    
            str += `</table>`
               }
                   
                    }
                    body.innerHTML = html;
                    }
            
            function responseError(error) {
                body.innerHTML = error;
             
            }
        
        </script>
        
        
        </body>
</html>